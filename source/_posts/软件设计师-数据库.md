---
title: 软件设计师-数据库
top: false
cover: false
toc: true
mathjax: true
categories:
  - 软件设计师
tags:
  - 软件设计师
date: 2021-10-18 16:45:44
password:
summary:
---

# 数据库技术基础

> 数据库DBS；是一个采用了数据库技术，有组织的、动态的存储大量相关技术

![image-20211018170546690](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110181705784.png)

# 一、三级模式-两级映像

![image-20211019172717624](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110191727728.png)

# 二、数据库设计

![image-20211019173156584](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110191731649.png)

# 三、E-R模型

![image-20211019173538701](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110191735752.png)

# 四、关系模型

![image-20211019173612020](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110191736051.png)

# 五、关系代数的运算

- ### 选择运算（select）==>相当于SQL语句中的WHERE子句的职能

  - #### 格式：σ选择谓词(关系)

  - 举个栗子：

    - σSAL>1000(EMP)
    - 上式表示取出查询工资大于1000的所有员工的信息
    - 等价于下面的SQL语句

    

    ```sql
    SELECT *
    FROM EMP
    WHERE SAL > 1000
    ```

  - 选择谓词的分类

    - 比较：=、≠、<、≤、>和≥
    - 连词：and(∧)、or(∨)和not(¬)==>可以将多个谓词合并成一个大的谓词
    - 可以包括两个属性（字段的比较）：σCOMM>SAL(EMP)表示抽成大于工资的人

- ### 投影运算（project）==>相当于SQL语句中的SELECT子句的职能

  - #### 格式：∏字段序列(关系)

  - 举个栗子

    - ∏ENAME,SAL(EMP)
    - 上式表示查看所有员工的姓名和工资
    - 等价于下面的SQL语句

    

    ```sql
    SELECT ENAME, SAL
    FROM EMP
    ```

- ### 关系的组合运算==>就像SQL中select、where子句那样的组合效果

  - 举个栗子

    - ∏ENAME,SAL(σSAL>1000(EMP))
    - 上面的式子求出了所有工资大于1000的员工的名字和工资(实际上就是将**σSAL>1000(EMP)**执行的结果当做一个临时的关系，参与了投影运算得到的)
    - 等价于下面的SQL语句

    

    ```sql
    SELECT ENAME, SAL
    FROM EMP
    WHERE SAL > 1000
    ```

  - 事实关系的组合运算就是那么简单，分析的时候把每个简单运算的结果当做一个新的关系参与后面的运算，这样一层层剥开来，再复杂的语句也变得容易分析

- ### 并运算（union）==>相当于SQL中UNION关键字的职能

  - #### 格式：（关系r）∪（关系s）

  - 举个栗子

    - ∏ENAME,SAL(σSAL>1000(EMP)) ∪ ∏ENAME,SAL(σCOMM>300(EMP))
    - 上面的式子求出了所有工资大于1000或抽成大于300的员工的姓名和工资，等价于下面的SQL语句

    

    ```sql
    SELECT ENAME, SAL
    FROM EMP
    WHERE SAL > 1000
    UNION
    SELECT ENAME, SAL
    FROM EMP
    WHERE COMM > 300
    ```

  - 几点需要额外注意的

    ：

    - 此处的并运算是集合运算，所以结果是去重的，结果集中不存在重复的元组（***而在SQL语句中，指定UNION ALL是可以保留重复的\***）
    - 关系r与关系s必须是同元的，即它们的属性的数目要求必须相同（这就和SQL语句中UNION使用的时候要求上下两个语句的字段数相同是一样的意思）
    - 关系r和关系s对应位置的属性域应该是类型兼容的（同样和SQL中UNION使用时，每个对应位置字段类型兼容是一样的意思）

- ### 集合的差运算（set-defference）==>相当于SQL语句中的EXCEPT

  - #### 格式：(关系r)-(关系s)

  - 举个栗子

    - ∏ENAME,SAL(σSAL>1000(EMP)) - ∏ENAME,SAL(σCOMM>300(EMP))
    - 上面的式子表示工资大于1000但抽成不大于300的员工的姓名和工资，等价于下面的SQL语句

    

    ```sql
    SELECT ENAME, SAL
    FROM EMP
    WHERE SAL > 1000
    EXCEPT
    SELECT ENAME, SAL
    FROM EMP
    WHERE COMM > 300
    ```

  - 几点需要额外注意的

    ：

    - 此处的注意同上面的并运算的注意事项



![image-20211019173911623](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110191739670.png)

![image-20211019174556391](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110191745439.png)

![image-20211019174453035](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110191744077.png)

# 六、规范化基础

# 七、函数依赖

![image-20211020163810341](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110201638446.png)

# 八、键与约束

![image-20211020163836967](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110201638998.png)

# 九、模式分解

**步骤**

1. 找到L
2. 找到LR
3. 找到R

判断L是不是候选键，如果不是，在LR中任取一个与L构成判断

```flow

st=>start: 求候选键
cond2f=>condition: 非健属性是否部分依赖候选键
cond3f=>condition: 非健属性是否传递依赖于候选键
condBCf=>condition: 所有依赖项的左边是否全为候选键 
1nf=>end: 1NF
2nf=>end: 2NF
3nf=>end: 3NF
bcnf=>end: BCNF
st->cond2f->cond3f->condBCf
cond2f(no)->cond3f
cond2f(yes)->1nf
cond3f(no)->condBCf
cond3f(yes)->2nf
condBCf(yes)->bcnf
condBCf(n)->3nf
e=>end
```



**传递依赖判断满足一下两点**

1. B->A,A-C
2. A ≠> B



![ ](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110201640308.png)

![image-20211021145659130](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211456202.png)

![image-20211021145926060](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211459118.png)

# 十、并发控制

![image-20211021164056860](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211640917.png)

<img src="https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211642869.png" alt="image-20211021164140317" style="zoom:33%;" />

![image-20211021164305172](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211643201.png)

# 十一、数据库安全

![image-20211021165236647](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211652704.png)

![image-20211021165302364](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211653391.png)

![image-20211021165338513](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211653564.png)

# 十二、分布式数据库

![image-20211021165550562](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211655618.png)

# 十三、数据仓库

![image-20211021165730547](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211657593.png)

![image-20211021165844895](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211658940.png)

![image-20211021165950310](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211659347.png)

# 十四、反规范化技术

![image-20211021170119875](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211701928.png)

# 十五、大数据

![image-20211021170156830](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211701881.png)

# 十六、SQL语言

![image-20211021170243979](https://raw.githubusercontent.com/lijinzedev/picture/main/img/202110211702022.png)
